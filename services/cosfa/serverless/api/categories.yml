get-categories:
  handler: src/infrastructure/api/categories-api.handler
  events:
    - http:
        path: /categories
        method: get
        cors:
          origin: '*'
          headers:
            - Content-Type
            - X-Amz-Date
            - Authorization
            - X-Api-Key
            - X-Amz-Security-Token
            - X-Amz-User-Agent
          allowCredentials: false
get-category-by-id:
  handler: src/infrastructure/api/categories-api.handler
  events:
    - http:
        path: /categories/{id}
        method: get
        request:
          parameters:
            paths:
              id: true
        cors: true
create-category:
  handler: src/infrastructure/api/categories-api.handler
  events:
    - http:
        path: /categories
        method: post
        request:
          schemas:
            application/json: ${file(serverless/api/schemas/create-category.json)}
        cors: true
update-category:
  handler: src/infrastructure/api/categories-api.handler
  events:
    - http:
        path: /categories/{id}
        method: put
        request:
          parameters:
            paths:
              id: true
          schemas:
            application/json: ${file(serverless/api/schemas/update-category.json)}
        cors: true
delete-category:
  handler: src/infrastructure/api/categories-api.handler
  events:
    - http:
        path: /categories/{id}
        method: delete
        request:
          parameters:
            paths:
              id: true
        cors: true
